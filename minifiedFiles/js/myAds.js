function editad(e){var t=e.id;$.ajax({type:"GET",url:"/sell/editad/"+t,success:function(){window.location.href="http://localhost:3001/sell/editad/"+t},error:function(){console.log("fail")}})}function editad1(e){var t=document.getElementById("form"+e.id);console.log("Hit"),t.submit()}let data,page=0;$.ajax({type:"GET",url:"/sell/ad/ad",success:function(e){let t;data=[...e],console.log(data);var l=(t=data.length<3?[...data.slice(0,data.length)]:[...data.slice(0,3)]).length;for(let e=0;e<l;e++){let l=new Date(t[e].date_posted).toDateString();$(".mainContent").append("<div id='"+t[e]._id+"' onclick='editad1(this)' class='col-md-4 col-sm-12 paddings' style='width:500px;height:500px;' ><div class='card bg-danger text-white car mx-auto'> <div class='card-body'> <center><img class='Img mx-auto' style='' src='"+t[e].cover_photo+" %>' /> </center>                    <br />                    <label for='title' class='text'>Title</label>                    <label for='' class='label-text'>"+convertTitle(t[e].title)+"                    </label>                    <br />                    <label for='title'>Date posted</label>                    <label for='' class='label-text'>"+l+"</label>                    <form method='POST' id='form"+t[e]._id+"' action='/sell/editad/view'>                    <input type='hidden' name='adid' value='"+t[e]._id+"'>                    </form>                  </div>                </div>              </div>              ")}},error:function(e){console.log(e)}});const main=document.querySelector("#main"),first=document.querySelector("#first"),previous=document.querySelector("#previous"),next=document.querySelector("#next");function convertTitle(e){let t;return e.length>17?t=(t=e.slice(0,17)).concat("..."):e}next.addEventListener("click",()=>{if(first.textContent="",page+=1,data.length>3*page){var e=page+1;let t;first.textContent=e,t=data.length%(3*(page+1))>=0?data.slice(3*page,3*page+3):data.slice(3*page,data.length),$(".mainContent").empty();for(let e=0;e<t.length;e++){let l=new Date(t[e].date_posted).toDateString();1===t.length&&$(".mainContent").append("<div id='"+t[e]._id+"' onclick='editad1(this)' class='col-sm-12 paddings' style='width:500px;height:500px;' ><div class='card bg-danger text-white car mx-auto'> <div class='card-body'> <center><img class='Img mx-auto' style='' src='"+t[e].cover_photo+" %>' /> </center>                    <br />                    <label for='title' class='text'>Title</label>                    <label for='' class='label-text'>"+convertTitle(t[e].title)+"                    </label>                    <br />                    <label for='title'>Date posted</label>                    <label for='' class='label-text'>"+l+"</label>                    <form method='POST' id='form"+t[e]._id+"' action='/sell/editad/view'>                    <input type='hidden' name='adid' value='"+t[e]._id+"'>                    </form>                  </div>                </div>              </div>              "),2===t.length&&$(".mainContent").append("<div id='"+t[e]._id+"' onclick='editad1(this)' class='col-md-6 col-sm-12 paddings' style='width:500px;height:500px;' ><div class='card bg-danger text-white car mx-auto'> <div class='card-body'> <center><img class='Img mx-auto' style='' src='"+t[e].cover_photo+" %>' /> </center>                    <br />                    <label for='title' class='text'>Title</label>                    <label for='' class='label-text'>"+convertTitle(t[e].title)+"                    </label>                    <br />                    <label for='title'>Date posted</label>                    <label for='' class='label-text'>"+l+"</label>                    <form method='POST' id='form"+t[e]._id+"' action='/sell/editad/view'>                    <input type='hidden' name='adid' value='"+t[e]._id+"'>                    </form>                  </div>                </div>              </div>              "),3===t.length&&$(".mainContent").append("<div id='"+t[e]._id+"' onclick='editad1(this)' class='col-md-4 col-sm-12 paddings' style='width:500px;height:500px;' ><div class='card bg-danger text-white car mx-auto'> <div class='card-body'> <center><img class='Img mx-auto' style='' src='"+t[e].cover_photo+" %>' /> </center>                    <br />                    <label for='title' class='text'>Title</label>                    <label for='' class='label-text'>"+convertTitle(t[e].title)+"                    </label>                    <br />                    <label for='title'>Date posted</label>                    <label for='' class='label-text'>"+l+"</label>                    <form method='POST' id='form"+t[e]._id+"' action='/sell/editad/view'>                    <input type='hidden' name='adid' value='"+t[e]._id+"'>                    </form>                  </div>                </div>              </div>              ")}}else page-=1,first.textContent="Last"}),previous.addEventListener("click",()=>{if(first.textContent="",(page-=1)>=0){var e=page+1;first.textContent=e;let t=data.slice(3*page,3*page+3);$(".mainContent").empty();for(let e=0;e<3;e++){let l=new Date(t[e].date_posted).toDateString();$(".mainContent").append("<div id='"+t[e]._id+"' onclick='editad1(this)' class='col-md-4 col-sm-12 paddings' style='width:500px;height:500px;' ><div class='card bg-danger text-white car mx-auto'> <div class='card-body'> <center><img class='Img mx-auto' style='' src='"+t[e].cover_photo+" %>' /> </center>                    <br />                    <label for='title' class='text'>Title</label>                    <label for='' class='label-text'>"+convertTitle(t[e].title)+"                    </label>                    <br />                    <label for='title'>Date posted</label>                    <label for='' class='label-text'>"+l+"</label>                    <form method='POST' id='form"+t[e]._id+"' action='/sell/editad/view'>                    <input type='hidden' name='adid' value='"+t[e]._id+"'>                    </form>                  </div>                </div>              </div>              ")}}else page+=1,first.textContent="First"});